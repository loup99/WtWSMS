###################################################
#
# ANCIENT RELIGIONS
# - Egyptian events
#
# Event ID ancrel.4000 - ancrel.4009 Decision Events
# Event ID ancrel.4010 - ancrel.4019 Sed festival
# Event ID ancrel.4100 - ancrel.4199 Nile Flooding
# Event ID ancrel.4200 - ancrel.4399 Kemetic Revival
###################################################

namespace = ancrel

# Luxor Restoration Part 1
province_event = {
	id = ancrel.4000
	title = EVTNAME_ancrel_4000
	desc = EVTDESC_ancrel_4000
	picture = GFX_persepolis_ruin

	is_triggered_only = yes
	
	immediate = {
		795 = { set_province_flag = reb_luxor_1 }
	}	

	option = {
		name = EVTOPTA_ancrel_4000 # Make it the greatest temple there ever was!
	}
}

# Luxor Restoration Part 2 - Add Asyut bonus modifier ~8 years
province_event = {
	id = ancrel.4001
	title = EVTNAME_ancrel_4001
	desc = EVTDESC_ancrel_4001
	picture = GFX_evt_temple_egyptian_pagan

	trigger = {
		has_global_flag = luxor_restoring
		province_id = 795 # Asyut
		NOT = { has_global_flag = luxor_restored }
		had_province_flag = { flag = reb_luxor_1 days = 1075 }
		NOT = { has_province_flag = reb_luxor_2 }
	}

	immediate = {
		set_province_flag = reb_luxor_2
	}
	
	mean_time_to_happen = {
		months = 6
	}
	
	option = {
		name = EVTOPTA_ancrel_4001 # Library
		795 = {
			add_province_modifier = { name = luxor_library duration = -1 }
			}
	}
	option = {
		name = EVTOPTB_ancrel_4001 # Promote Fanaticism
		795 = {
			add_province_modifier = { name = luxor_fanaticism duration = -1 }
			}
	}
	option = {
		name = EVTOPTC_ancrel_4001 # Promote Tax Collection
		795 = {
			add_province_modifier = { name = luxor_admin duration = -1 }
			}
	}
}

# Luxor Restoration Part 3 ~2 years
province_event = {
	id = ancrel.4002
	title = EVTNAME_ancrel_4002
	desc = EVTDESC_ancrel_4002
	picture = GFX_evt_temple_egyptian_pagan
	
	trigger = {
		has_global_flag = luxor_restoring
		province_id = 795 # Asyut
		NOT = { has_global_flag = luxor_restored }
		has_province_flag = reb_luxor_1
		had_province_flag = { flag = reb_luxor_2 days = 546 }		
	}

	mean_time_to_happen = {
		months = 3
	}
	
	immediate = {
		clr_global_flag = luxor_restoring
		set_global_flag = luxor_restored
		clr_province_flag = reb_luxor_1
		clr_province_flag = reb_luxor_2
	}

	option = {
		name = EVTOPTA_ancrel_4002
		owner = {
			795 = {
				if = {
					limit = {
						has_empty_holding = no
					}
					add_holding_slot = 1
				}
				build_holding = {
				   title = b_luxor
				   type = temple
				   holder = PREV
				}
			}
		}
		owner = {
			prestige = 500
			religion_authority = {
				modifier = luxor_restored
				years = 30
			}
		}
		hidden_tooltip = {
			owner = {
				set_character_flag = event_ancrel4003
				narrative_event = { id = ancrel.4003 days = 7 }
			}
			increase_prosperity_effect = yes
		}
	}
}

# News spread about Luxor
narrative_event = {
	id = ancrel.4003
	title = EVTNAME_ancrel_4003
	desc = EVTDESC_ancrel_4003
	picture = GFX_evt_temple_egyptian_pagan
	border = GFX_event_narrative_frame_religion
	
	major = yes
	only_rulers = yes
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				has_character_flag = event_ancrel4003
				religion = egyptian_pagan
				religion = aten_pagan
			}
		}
		if = {
			limit = { has_character_flag = event_ancrel4003 }
			clr_character_flag = event_ancrel4003
		}
		name = OK
	}
	
	option = {
		trigger = {
			NOT = { has_character_flag = event_ancrel4003 }
		}
		name = EVTOPTA_ancrel_4003
	}
}

# Pharaoh wants to build a Pyramid
character_event = {
	id = ancrel.4004
	desc = EVTDESC_ancrel_4004
	picture = GFX_evt_boatcoast

	is_triggered_only = yes
	
	immediate = {
		capital_scope = { set_province_flag = pyramid_building_prov }
	}	

	option = {
		name = EVTOPTA_ancrel_4004 # Make it the greatest pyramid there ever was!
		wealth = -600
	}
}

# The Pyramid is done!
province_event = {
	id = ancrel.4005
	desc = EVTDESC_ancrel_4005
	picture = GFX_evt_pyramid

	trigger = {
		had_province_flag = { flag = pyramid_building_prov days = 3650 }
		owner = { 
			NOT = { has_character_flag = pyramid_built}
		}
	}

	immediate = {
		clr_province_flag = pyramid_building_prov
		if = {
			limit = { capital_holding = { holding_type = castle } }
			capital_holding = { add_building = ca_kemetic_pyramid }
		}
		if = {
			limit = { capital_holding = { holding_type = city } }
			capital_holding = { add_building = ct_kemetic_pyramid }
		}
		if = {
			limit = { capital_holding = { holding_type = temple } }
			capital_holding = { add_building = tp_kemetic_pyramid }
		}
		if = {
			limit = { capital_holding = { holding_type = tribal } }
			capital_holding = { add_building = tb_kemetic_pyramid }
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	option = {
		name = EVTOPTA_ancrel_4005 # My pyramid is done!

		trigger = { owner = { has_character_flag = pyramid_building_char}}
		owner = {
			clr_character_flag = pyramid_building_char
			set_character_flag = pyramid_built
			prestige = 500
		}
	}
	option = {
		name = EVTOPTB_ancrel_4005 # My predecessor's pyramid is done

		trigger = { 
			owner = {
				NOT = { 
					has_character_flag = pyramid_building_char
				}
				true_religion_in_egyptian_subgroup_trigger = yes
			}
		}
		owner = {
			prestige = 100
		}
	}
	option = {
		name = EVTOPTC_ancrel_4005 # Pagan Garbage!

		trigger = { 
			owner = {
				NOT = {
					has_character_flag = pyramid_building_char
					true_religion_in_egyptian_subgroup_trigger = yes
				}
			}
		}		
	}

	after = {
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = province_prospers_custom_tooltip
				hidden_tooltip = {
					ROOT = {
						change_variable = { which = prosperity_value value = 8 }
					}
				}
			}
		}
	}
}

# The Priesthood Restored
narrative_event = {
	id = ancrel.4006
	title = EVTNAME_ancrel_4006
	desc = EVTDESC_ancrel_4006
	picture = GFX_evt_bishop_muslim
	border = GFX_event_narrative_frame_religion
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_ancrel_4006
		trigger = {
			true_religion_in_egyptian_subgroup_trigger = yes
		}
	}
	option = {
		name = EVTOPTB_ancrel_4006
		trigger = {
			true_religion_in_egyptian_subgroup_trigger = no
		}
	}
}

# Anubis Guard founded
narrative_event = {
	id = ancrel.4007
	title = EVTNAME_ancrel_4007
	desc = EVTDESC_ancrel_4007
	picture = GFX_evt_anubis
	border = GFX_event_narrative_frame_religion
	
	major = yes
	only_rulers = yes
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = event_ancrel4007
		}
		clr_character_flag = event_ancrel4007
		name = OK
	}
	
	option = {
		trigger = {
			NOT = { has_character_flag = event_ancrel4007 }
		}
		name = EVTOPTA_ancrel_4007
	}
}

# Horusian Guard Founded
narrative_event = {
	id = ancrel.4008
	title = EVTNAME_ancrel_4008
	desc = EVTDESC_ancrel_4008
	picture = GFX_evt_horus
	border = GFX_event_narrative_frame_religion
	
	major = yes
	only_rulers = yes
	is_triggered_only = yes
	
	option = {
		trigger = {
			has_character_flag = event_ancrel4008
		}
		clr_character_flag = event_ancrel4008
		name = OK
	}
	
	option = {
		trigger = {
			NOT = { has_character_flag = event_ancrel4008 }
		}
		name = EVTOPTA_ancrel_4008
	}
}

#######################
# Sed Festival events #
#######################

#Sed festival 1st day: the offerings
character_event = {
	id = ancrel.4010
	desc = EVTDESC_ancrel_4010
	picture = GFX_evt_temple_egyptian_pagan
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA_ancrel_4010 # OK
		hidden_tooltip = {
			random_list = {
				95 = {
					character_event = { id = ancrel.4011 days = 1 }
				}
				5 = {
					modifier = {
						factor = 3
						trait = drunkard
					}
					modifier = {
						factor = 3
						trait = gluttonous 
					}
					modifier = {
						factor = 0.3
						trait = zealous
					}
					modifier = {
						factor = 0.3
						trait = patient
					}
					character_event = { id = ancrel.4014 days = 1 }
				}
			}
		}
	}
}

#Sed festival 2nd day: the race
character_event = {
	id = ancrel.4011
	desc = EVTDESC_ancrel_4011
	picture = GFX_evt_temple_egyptian_pagan
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_ancrel_4011 # OK
		hidden_tooltip = {
			random_list = {
				95 = {
					character_event = { id = ancrel.4012 days = 1 }
				}
				5 = {
					modifier = {
						factor = 3
						trait = gluttonous
					}
					modifier = {
						factor = 2
						NOT = { health = 2 }
					}
					modifier = {
						factor = 5
						NOT = { health = 1 }
					}
					modifier = {
						factor = 10
						NOT = { health = 0 }
					}
					character_event = { id = ancrel.4015 days = 1 }
				}
			}
		}
	}
}

#Sed festival last day: bow & arrow
character_event = {
	id = ancrel.4012
	desc = EVTDESC_ancrel_4012
	picture = GFX_evt_temple_egyptian_pagan
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA_ancrel_4012 # OK
		hidden_tooltip = {
			random_list = {
				95 = {
					character_event = { id = ancrel.4013 days = 1 }
				}
				5 = {
					modifier = {
						factor = 10
						NOT = { combat_rating = -5 }
					}
					modifier = {
						factor = 10
						NOT = { combat_rating = -10 }
					}
					modifier = {
						factor = 2
						trait = cruel
					}
					modifier = {
						factor = 0.1
						combat_rating = 5
					}
					modifier = {
						factor = 0.1
						trait = hunter
					}
					character_event = { id = ancrel.4016 days = 1 }
				}
			}
		}
	}
}

#Sed festival successful conclusion 
character_event = {
	id = ancrel.4013
	desc = EVTDESC_ancrel_4013
	picture = GFX_evt_temple_egyptian_pagan
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = holding_sed_festival
	}	

	option = {
		name = EVTOPTA_ancrel_4013 # OK
		
		hidden_tooltip = {
			# Calculate piety gain = 200 + nb_sed_festivals * 50
			# set_variable = { which = gain which = nb_sed_festivals }
			# multiply_variable = { which = gain value = 50 }
			# change_variable = { which = gain value = 200 }
			# piety = gain # variable

			if = {
				limit = {
					is_variable_equal = { which = nb_sed_festivals value = 1 }
				}
				piety = 200
			}
			if = {
				limit = {
					is_variable_equal = { which = nb_sed_festivals value = 2 }
				}
				piety = 300
			}
			if = {
				limit = {
					is_variable_equal = { which = nb_sed_festivals value = 3 }
				}
				piety = 400
			}
			if = {
				limit = {
					is_variable_equal = { which = nb_sed_festivals value = 4 }
				}
				piety = 500
			}
			if = {
				limit = {
					is_variable_equal = { which = nb_sed_festivals value = 5 }
				}
				piety = 600
			}
			if = {
				limit = {
					is_variable_equal = { which = nb_sed_festivals value = 6 }
				}
				piety = 700
			}
			if = {
				limit = {
					is_variable_equal = { which = nb_sed_festivals value = 7 }
				}
				piety = 800
			}
			if = {
				limit = {
					is_variable_equal = { which = nb_sed_festivals value = 8 }
				}
				piety = 900
			}
			if = {
				limit = {
					check_variable = { which = nb_sed_festivals value = 9 }
				}
				piety = 1000
			}
		}
		add_character_modifier = {
			name = held_sed_festival
			duration = 365
		}

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 6 }
					}
				}
			}
		}
	}
}

#Sed festival 1st day failure: fallen asleep
character_event = {
	id = ancrel.4014
	desc = EVTDESC_ancrel_4014
	picture = GFX_evt_temple_egyptian_pagan
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA_ancrel_4014 # OK
		hidden_tooltip = {
			character_event = { id = ancrel.4017 days = 1 }
		}
	}
}

#Sed festival 2nd day failure: unable to finish the race
character_event = {
	id = ancrel.4015
	desc = EVTDESC_ancrel_4015
	picture = GFX_evt_temple_egyptian_pagan
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA_ancrel_4015 # OK
		hidden_tooltip = {
			character_event = { id = ancrel.4017 days = 1 }
		}
	}
}

#Sed festival last day failure: shoot someone in the crowd
character_event = {
	id = ancrel.4016
	desc = EVTDESC_ancrel_4016
	picture = GFX_evt_temple_egyptian_pagan
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA_ancrel_4016 # OK
		hidden_tooltip = {
			character_event = { id = ancrel.4017 days = 1 }
		}
	}
}

#Sed festival failed conclusion
character_event = {
	id = ancrel.4017
	desc = EVTDESC_ancrel_4017
	picture = GFX_evt_temple_egyptian_pagan
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = holding_sed_festival
	}

	option = {
		name = EVTOPTA_ancrel_4017 # Depressed

		add_trait = depressed
		piety = -200
	}
	
	option = {
		name = EVTOPTB_ancrel_4017 # Who cares ?
		
		add_trait = cynical
		piety = -200
		prestige = -200
	}
	
	option = {
		name = EVTOPTC_ancrel_4017 # Punishment
		
		add_trait = arbitrary
		add_trait = paranoid
		prestige = -200
	}

	after = {
		add_character_modifier = {
			name = held_failed_sed_festival
			duration = 365
		}
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = province_loses_prosperity_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						subtract_variable = { which = prosperity_value value = 6 }
					}
				}
			}
		}
	}
}

###################################
# Ancient Religions
# - Nile Flooding
#
# Author: Cybrxkhan
# NOTE TO SELF: CONNECT TO SOME EGYPTIAN DECISION THINGY
###################################

#Flood calculator
character_event = {
	id = ancrel.4100	
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		religion = catholic
		controls_religion = yes # Let it happen for the Pope. He's always around.
	}
	
	immediate = {
		#choose Nile flood for the year
		random_list = {
			500 = { #normal flood
				788 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				789 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				790 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				791 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				794 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				795 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				796 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				797 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				798 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				799 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				800 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
				802 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_good
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4101 }
					}
				}
			}
			100 = { #great flood
				788 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				789 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				790 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				791 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				794 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				795 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				796 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				797 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				798 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				799 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				800 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
				802 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_great
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						change_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4102 }
					}
				}
			}
			100 = { #overflow flood
				788 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				789 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				790 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				791 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				794 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				795 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				796 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				797 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				798 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				799 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				800 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
				802 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_overflow
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 4 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4103 }
					}
				}
			}
			200 = { #poor flood
				788 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				789 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				790 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				791 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				794 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				795 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				796 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				797 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				798 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				799 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				800 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
				802 = {
					clear_nile_flooding_effect = yes
					add_province_modifier = {
						name = VIET_nile_flood_poor
						duration = 365
					}
					if = {
						limit = {
							has_dlc = "Reapers"
						}
						subtract_variable = { which = prosperity_value value = 2 }
					}
					any_province_lord = {
						character_event = { id = ancrel.4104 }
					}
				}
			}
		}
	}
}

character_event = { #good
	id = ancrel.4101
	desc = "ancrel.4101.desc"
	picture = GFX_evt_ancient_egypt

	notification = yes
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}
character_event = { #great
	id = ancrel.4102
	desc = "ancrel.4102.desc"
	picture = GFX_evt_ancient_egypt

	notification = yes
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}
character_event = { #overflow
	id = ancrel.4103
	desc = "ancrel.4103.desc"
	picture = GFX_evt_ancient_egypt

	notification = yes
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}
character_event = { #poor
	id = ancrel.4104
	desc = "ancrel.4104.desc"
	picture = GFX_evt_ancient_egypt

	notification = yes
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}

###################################
#
# Ancient Religions
# - Egyptian Flavor Events
#
# ancrel.4150 - ancrel.4199 Flavor Events
#
# Author: Cybrxkhan
#
###################################

# Mmm garlic bby
character_event = {
	id = ancrel.4150
	desc = ancrel.4150.desc
	picture = GFX_evt_small_town_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		true_religion_in_egyptian_subgroup_trigger = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = gluttonous
		}
		modifier = {
			factor = 0.5
			trait = temperate
		}
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2
			trait = charitable
		}
		modifier = {
			factor = 0.5
			trait = greedy
		}
		modifier = {
			factor = 2
			trait = just
		}
		modifier = {
			factor = 0.5
			trait = arbitrary
		}
	}

	option = { #Distribute garlic
		name = ancrel.4150.a
		wealth = -10
		piety = 10
		add_character_modifier = {
			name = VIET_garlic_distribution
			duration = 730
		}

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 3 }
					}
				}
			}
		}
	}

	option = { #Don't distribute
		name = ancrel.4150.b
		random_list = {
			70 = {}
			20 = { add_trait = greedy }
			10 = { add_trait = cynical }
		}
	}
}

# Palm tree planting
character_event = {
	id = ancrel.4151
	desc = ancrel.4151.desc
	picture = GFX_evt_castle_tower_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		true_religion_in_egyptian_subgroup_trigger = yes
		NOT = {
			capital_scope = {
				has_province_modifier = VIET_planted_palm_trees
			}
		}
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = ambitious
		}
		modifier = {
			factor = 0.5
			trait = content
		}
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2
			trait = proud
		}
		modifier = {
			factor = 0.5
			trait = humble
		}
		modifier = {
			factor = 2
			trait = gregarious
		}
		modifier = {
			factor = 0.5
			trait = shy
		}
	}

	option = { # Add 'em
		name = ancrel.4151.a
		wealth = -20
		prestige = 10
		random = {
			add_trait = proud
			chance = 10
		}
		capital_scope = {
			add_province_modifier = {
				name = VIET_planted_palm_trees
				duration = 3650
			}
			if = {
				limit = {
					has_dlc = "Reapers"
				}
				custom_tooltip = {
					text = capital_prospers_custom_tooltip
					hidden_tooltip = {
						change_variable = { which = prosperity_value value = 2 }
					}
				}
			}
		}
	}

	option = { # No bro
		name = ancrel.4151.b
		piety = 10
		random_list = {
			50 = {}
			20 = { add_trait = humble }
			10 = { add_trait = content }
			10 = { add_trait = patient }
		}
	}
}

# Khnum Amulet
character_event = {
	id = ancrel.4152
	desc = ancrel.4152.desc
	picture = GFX_evt_cathedral_soa_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		true_religion_in_egyptian_subgroup_trigger = yes
		NOT = { has_character_modifier = VIET_khnum_amulet }
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = kind
		}
		modifier = {
			factor = 0.5
			trait = envious
		}
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2
			trait = just
		}
		modifier = {
			factor = 0.5
			trait = arbitrary
		}
		modifier = {
			factor = 2
			trait = gregarious
		}
		modifier = {
			factor = 0.5
			trait = shy
		}
	}

	option = { # Add 'em
		name = ancrel.4152.a
		add_character_modifier = {
			name = VIET_khnum_amulet
			duration = -1
		}
	}
}

# Desecrated Tombs
province_event = {
	id = ancrel.4153
	desc = ancrel.4153.desc
	picture = GFX_evt_pyramid
	
	trigger = {
		NOT = { has_province_modifier = VIET_province_desecrated_egyptian_tombs }
		true_religion_in_egyptian_subgroup_trigger = yes

		county = { is_on_nile_trigger = yes }
	}
	
	mean_time_to_happen = {
		months = 5000
		modifier = {
			factor = 2
			owner = {
				has_character_flag = VIET_descrated_egyptian_tombs_happened
			}
		}
	}

	option = { # Do nothing
		name = ancrel.4153.a
		owner = {
			set_character_flag = VIET_descrated_egyptian_tombs_happened
			prestige = -20
		}
		random_list = {
			5 = {
				add_province_modifier = {
					name = VIET_province_desecrated_egyptian_tombs
					duration = 7300
				}				
			}
			70 = {
				add_province_modifier = {
					name = VIET_province_desecrated_egyptian_tombs
					duration = 3650
				}				
			}
			15 = {
				add_province_modifier = {
					name = VIET_province_desecrated_egyptian_tombs
					duration = 1825
				}				
			}
			5 = {
				add_province_modifier = {
					name = VIET_province_desecrated_egyptian_tombs
					duration = 1095
				}				
			}
		}

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = province_prospers_custom_tooltip
				hidden_tooltip = {
					ROOT = {
						change_variable = { which = prosperity_value value = -4 }
					}
				}
			}
		}
	}

	option = { # Send in security
		name = ancrel.4153.b
		owner = {
			set_character_flag = VIET_descrated_egyptian_tombs_happened
			wealth = -40
			prestige = -10
		}
		random_list = {
			33 = {
				add_province_modifier = {
					name = VIET_province_desecrated_egyptian_tombs
					duration = 3650
				}				
			}
			33 = {
				add_province_modifier = {
					name = VIET_province_desecrated_egyptian_tombs
					duration = 1825
				}				
			}
			33 = {
				add_province_modifier = {
					name = VIET_province_desecrated_egyptian_tombs
					duration = 1095
				}				
			}
		}

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = province_loses_prosperity_custom_tooltip
				hidden_tooltip = {
					ROOT = {
						change_variable = { which = prosperity_value value = -2 }
					}
				}
			}
		}
	}
}

# Bes protects from nightmare
character_event = {
	id = ancrel.4154
	desc = ancrel.4154.desc
	picture = GFX_evt_nightmare

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		in_command = no
		#is_abroad = no
		true_religion_in_egyptian_subgroup_trigger = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = depressed
		}
		modifier = {
			factor = 2
			trait = stressed
		}
		modifier = {
			factor = 2
			trait = wroth
		}
		modifier = {
			factor = 0.5
			trait = patient
		}
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2
			trait = paranoid
		}
		modifier = {
			factor = 0.5
			trait = trusting
		}
		modifier = {
			factor = 2
			trait = craven
		}
		modifier = {
			factor = 0.5
			trait = brave
		}
	}

	option = { # Add 'em
		name = ancrel.4154.a
		piety = 5
	}
}

# Expel evil
character_event = {
	id = ancrel.4155
	desc = ancrel.4155.desc
	picture = GFX_evt_tuscan_Country_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		true_religion_in_egyptian_subgroup_trigger = yes
		OR = {
			trait = lustful
			trait = envious
			trait = slothful
			trait = greedy
			trait = proud
			trait = wroth
			trait = gluttonous
			trait = cruel
			trait = deceitful
		}
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2
			trait = just
		}
		modifier = {
			factor = 0.5
			trait = arbitrary
		}
		modifier = {
			factor = 2
			trait = paranoid
		}
		modifier = {
			factor = 0.5
			trait = trusting
		}
	}

	option = { # Shake the devil out!
		name = ancrel.4155.a
		wealth = -10
		character_event = { id = ancrel.4156 tooltip = ancrel.4156.tooltip }
	}

	option = { # Pff... yeah right
		name = ancrel.4155.b
		piety = -5
		if = {
			limit = {
				NOT = { trait = proud }
			}
			random = {
				add_trait = proud
				chance = 20
			}
		}
		if = {
			limit = {
				NOT = { trait = cynical }
			}
			random = {
				add_trait = cynical
				chance = 40
			}
		}
		if = {
			limit = {
				trait = zealous
			}
			remove_trait = zealous
		}
	}
}

# Expel evil, pt 2
character_event = {
	id = ancrel.4156
	title = ancrel.4156.title
	desc = ancrel.4156.desc
	picture = GFX_evt_temple_egyptian_pagan

	is_triggered_only = yes

	option = { # Expel!
		name = ancrel.4156.a
		piety = 20
		if = {
			limit = {
				trait = lustful
			}
			random = {
				remove_trait = lustful
				chance = 33
			}
		}
		if = {
			limit = {
				trait = greedy
			}
			random = {
				remove_trait = greedy
				chance = 33
			}
		}
		if = {
			limit = {
				trait = envious
			}
			random = {
				remove_trait = envious
				chance = 33
			}
		}
		if = {
			limit = {
				trait = slothful
			}
			random = {
				remove_trait = slothful
				chance = 33
			}
		}
		if = {
			limit = {
				trait = gluttonous
			}
			random = {
				remove_trait = gluttonous
				chance = 33
			}
		}
		if = {
			limit = {
				trait = proud
			}
			random = {
				remove_trait = proud
				chance = 33
			}
		}
		if = {
			limit = {
				trait = wroth
			}
			random = {
				remove_trait = wroth
				chance = 33
			}
		}
		if = {
			limit = {
				trait = cruel
			}
			random = {
				remove_trait = cruel
				chance = 33
			}
		}
		if = {
			limit = {
				trait = deceitful
			}
			random = {
				remove_trait = deceitful
				chance = 33
			}
		}
	}
}

# Upholding le Ma'at
character_event = {
	id = ancrel.4157
	desc = ancrel.4157.desc
	picture = GFX_evt_tuscan_Country_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		true_religion_in_egyptian_subgroup_trigger = yes
		OR = {
			trait = kind
			trait = just
			trait = charitable
			trait = humble
		}
		NOT = { trait = cruel }
		NOT = { trait = arbitrary }
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2
			trait = just
		}
		modifier = {
			factor = 0.5
			trait = arbitrary
		}
		modifier = {
			factor = 2
			trait = kind
		}
		modifier = {
			factor = 0.5
			trait = cruel
		}
		modifier = {
			factor = 2
			trait = charitable
		}
		modifier = {
			factor = 0.5
			trait = greedy
		}
	}

	option = { # Yeah, i'm pretty great
		name = ancrel.4157.a
		prestige = 10
		piety = 10

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 6 }
					}
				}
			}
		}
	}
}

# Not Upholding le Ma'at
character_event = {
	id = ancrel.4158
	desc = ancrel.4158.desc
	picture = GFX_evt_tuscan_Country_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		#war = no
		#in_command = no
		#is_abroad = no
		true_religion_in_egyptian_subgroup_trigger = yes
		OR = {
			trait = cruel
			trait = arbitrary
			trait = greedy
			trait = wroth
		}
		NOR = { 
			trait = kind
			trait = charitable
			trait = just
		}
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 0.5
			trait = zealous
		}
		modifier = {
			factor = 2
			trait = cynical
		}
		modifier = {
			factor = 0.5
			trait = just
		}
		modifier = {
			factor = 2
			trait = arbitrary
		}
		modifier = {
			factor = 0.5
			trait = kind
		}
		modifier = {
			factor = 2
			trait = cruel
		}
		modifier = {
			factor = 0.5
			trait = charitable
		}
		modifier = {
			factor = 2
			trait = greedy
		}
	}

	option = { # Well, that's no good...
		name = ancrel.4158.a
		prestige = -10
		piety = -10
		add_character_modifier = {
			name = VIET_not_upholding_maat
			duration = 1095
		}
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = province_loses_prosperity_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 6 }
					}
				}
			}
		}
	}
}

# Pussycat
character_event = {
	id = ancrel.4159
	desc = ancrel.4159.desc
	picture = GFX_evt_maiden_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	only_men = yes
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		any_spouse = {
			is_adult = yes
			NOR = {
				age = 40
				trait = incapable
				trait = inbred
				trait = celibate
			}
			OR = {
				is_lover = PREV
				is_friend = PREV
				opinion = { who = ROOT value = 25 }
				trait = lustful
			}
			is_female = yes
			religion = ROOT
		}
		true_religion_in_egyptian_subgroup_trigger = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = lustful
		}
		modifier = {
			factor = 0.5
			trait = chaste
		}
		modifier = {
			factor = 2
			trait = slothful
		}
		modifier = {
			factor = 0.5
			trait = diligent
		}
		modifier = {
			factor = 2
			trait = gregarious
		}
		modifier = {
			factor = 0.5
			trait = shy
		}
		modifier = {
			factor = 2
			trait = kind
		}
		modifier = {
			factor = 0.5
			trait = cruel
		}
	}

	option = {
		name = ancrel.4159.a
		random_spouse = {
			limit = {
				is_adult = yes
				NOT = { age = 40 }
				NOT = { trait = incapable }
				NOT = { trait = inbred }
				NOT = { trait = celibate }
				OR = {
					is_lover = PREV
					is_friend = PREV
					opinion = { who = ROOT value = 25 }
					trait = lustful
				}
				is_female = yes
				religion = ROOT
			}
			random = {
				add_lover = ROOT
				chance = 25
			}
			random = {			
				impregnate = ROOT
				chance = 25
			}
			opinion = {
				modifier = opinion_egyptian_sexytimes
				who = ROOT
				years = 1
			}	
			reverse_opinion = {
				modifier = opinion_egyptian_sexytimes
				who = ROOT
				years = 1
			}			
		}
	}
}

# A criminal has killed a cat, a heinous crime!
character_event = {
	id = ancrel.4160
	desc = ancrel.4160.desc
	picture = GFX_evt_cathedral_soa_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	only_men = yes
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		true_religion_in_egyptian_subgroup_trigger = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2
			trait = diligent
		}
		modifier = {
			factor = 0.5
			trait = slothful
		}
		modifier = {
			factor = 2
			trait = just
		}
		modifier = {
			factor = 0.5
			trait = arbitrary
		}
	}

	option = { # Punish him
		name = ancrel.4160.a
		piety = 10
		custom_tooltip = { text = VIET_stupid_cat_lovers_boooo }
	}

	option = { # it's just a cat
		name = ancrel.4160.b
		prestige = 10
		piety = -10
		random = {
			chance = 20

			add_trait = cynical
		}
	}
}

# be nice to grills
character_event = {
	id = ancrel.4161
	desc = ancrel.4161.desc
	picture = GFX_evt_maiden_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	only_men = yes
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		true_religion_in_egyptian_subgroup_trigger = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = zealous
		}
		modifier = {
			factor = 0.5
			trait = cynical
		}
		modifier = {
			factor = 2
			trait = kind
		}
		modifier = {
			factor = 0.5
			trait = cruel
		}
		modifier = {
			factor = 2
			trait = just
		}
		modifier = {
			factor = 0.5
			trait = arbitrary
		}
	}

	option = { # Be a feminazi
		name = ancrel.4161.a
		piety = 10
		prestige = -10
		any_courtier = {
			limit = {
				is_female = yes
				is_adult = yes
			}
			opinion = {
				modifier = opinion_egyptian_respects_women
				who = ROOT
				years = 5
			}
		}
		any_courtier = {
			limit = {
				is_female = no
				is_adult = yes
				NOR = {
					trait = kind
					trait = zealous
					trait = just
					trait = humble
				}
			}
			opinion = {
				modifier = opinion_egyptian_stop_being_feminazi
				who = ROOT
				years = 5
			}
		}
	}
	option = { # Be a MRA jerk
		name = ancrel.4161.b
		piety = -10
		prestige = 10
		any_courtier = {
			limit = {
				is_female = yes
				is_adult = yes
			}
			opinion = {
				modifier = opinion_egyptian_disrespects_women
				who = ROOT
				years = 5
			}
		}
	}
}

# Senet game - start
character_event = {
	id = ancrel.4162
	desc = ancrel.4162.desc
	picture = GFX_evt_tuscan_Country_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		any_courtier = {
			is_adult = yes
			NOT = { trait = incapable }
			religion = ROOT
			ai = yes
		}
		true_religion_in_egyptian_subgroup_trigger = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 3
			trait = gamer
		}
		modifier = {
			factor = 2
			trait = gregarious
		}
		modifier = {
			factor = 0.5
			trait = shy
		}
		modifier = {
			factor = 2
			trait = kind
		}
		modifier = {
			factor = 0.5
			trait = cruel
		}
		modifier = {
			factor = 2
			trait = humble
		}
		modifier = {
			factor = 0.5
			trait = proud
		}
	}

	option = {
		name = ancrel.4162.a
		random_courtier = {
			limit = {
				is_adult = yes
				NOT = { trait = incapable }
				religion = ROOT
				ai = yes
			}
			character_event = { id = ancrel.4163 tooltip = ancrel.4163.tooltip }
		}
	}
}

# Senet game - courtier event
character_event = {
	id = ancrel.4163
	desc = ancrel.4163.desc
	picture = GFX_evt_tuscan_Country_egyptian_pagan

	is_triggered_only = yes

	option = { # Ok!
		name = ancrel.4163.a
		FROM = {
			random_list = {
				50 = { character_event = { id = ancrel.4164 tooltip = ancrel.4164.tooltip } }
				50 = { character_event = { id = ancrel.4165 tooltip = ancrel.4165.tooltip } }
			}
		}
	}
}

# Senet game - courtier wins
character_event = {
	id = ancrel.4164
	desc = ancrel.4164.desc
	picture = GFX_evt_tuscan_Country_egyptian_pagan

	is_triggered_only = yes

	option = { # Ok!
		name = ancrel.4164.a
		random = {
			add_trait = humble
			chance = 20
		}
		FROM = {
			opinion = {
				modifier = opinion_egyptian_senet_game
				who = ROOT
				years = 1
			}
			reverse_opinion = {
				modifier = opinion_egyptian_senet_game
				who = ROOT
				years = 1
			}		
		}
	}
	option = { # Ok!
		name = ancrel.4164.b
		random = {
			add_trait = wroth
			chance = 20
		}
		FROM = {
			opinion = {
				modifier = opinion_egyptian_sore_loser
				who = ROOT
				years = 1
			}
			reverse_opinion = {
				modifier = opinion_egyptian_lost_senet_game
				who = ROOT
				years = 1
			}		
		}
	}
}

# Senet game - liege wins
character_event = {
	id = ancrel.4165
	desc = ancrel.4165.desc
	picture = GFX_evt_tuscan_Country_egyptian_pagan

	is_triggered_only = yes

	option = { # Ok!
		name = ancrel.4165.a
		piety = 5
		FROM = {
			opinion = {
				modifier = opinion_egyptian_senet_game
				who = ROOT
				years = 1
			}
			reverse_opinion = {
				modifier = opinion_egyptian_senet_game
				who = ROOT
				years = 1
			}		
		}
	}
	option = { # Ok!
		name = ancrel.4165.b
		prestige = 5
		FROM = {
			opinion = {
				modifier = opinion_egyptian_smug_winner
				who = ROOT
				years = 1
			}
			reverse_opinion = {
				modifier = opinion_egyptian_pathetic_senet_player
				who = ROOT
				years = 1
			}		
		}
	}
}

# Ghost of Akhenaten?
character_event = {
	id = ancrel.4166
	desc = ancrel.4166.desc
	picture = GFX_evt_desert

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		any_courtier = {
			is_adult = yes
			NOT = { trait = incapable }
			religion = ROOT
			ai = yes
		}
		religion = egyptian_pagan
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = cynical
		}
		modifier = {
			factor = 0.5
			trait = zealous
		}
		modifier = {
			factor = 2
			trait = paranoid
		}
		modifier = {
			factor = 0.5
			trait = trusting
		}
		modifier = {
			factor = 2
			trait = arbitrary
		}
		modifier = {
			factor = 0.5
			trait = just
		}
	}

	option = { # Ok!
		name = ancrel.4166.a
		random_courtier = {
			limit = {
				is_adult = yes
				NOT = { trait = incapable }
				religion = ROOT
				ai = yes			
			}
			random_list = {
				80 = {}
				15 = { add_trait = ill }
				4 = { add_trait = pneumonic }
				1 = {
					death = { death_reason = death_natural }
				}
			}
		}
	}
}

# Shezmu execution
character_event = {
	id = ancrel.4167
	desc = ancrel.4167.desc
	picture = GFX_evt_small_town_egyptian_pagan

	is_triggered_only = yes
	
	min_age = 16
	only_rulers = yes
	capable_only = yes
	prisoner = no
	
	trigger = {
		war = no
		in_command = no
		is_abroad = no
		any_courtier = {
			is_adult = yes
			NOT = { trait = incapable }
			religion = ROOT
			ai = yes
		}
		true_religion_in_egyptian_subgroup_trigger = yes
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 2
			trait = just
		}
		modifier = {
			factor = 0.5
			trait = arbitrary
		}
		modifier = {
			factor = 2
			trait = wroth
		}
		modifier = {
			factor = 0.5
			trait = patient
		}
		modifier = {
			factor = 2
			trait = cruel
		}
		modifier = {
			factor = 0.5
			trait = kind
		}
		modifier = {
			factor = 2
			trait = impaler
		}
		modifier = {
			factor = 0.5
			trait = craven
		}
	}

	option = { # Ok!
		name = ancrel.4167.a
		prestige = 5
	}
}